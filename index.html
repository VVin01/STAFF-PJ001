<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Luxury Staff Hierarchy</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #f8f9fa, #e0e0e0);
      padding: 10px;
    }
    header {
      text-align: center;
      margin-bottom: 20px;
    }
    header img {
      max-height: 80px;
    }
    h1 {
      font-size: 1.8rem;
      margin-top: 10px;
    }
    .login-container, .hierarchy-container {
      max-width: 800px;
      margin: 0 auto;
    }
    .login-box {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }    .login-box h2 {
      margin-bottom: 15px;
      text-align: center;
      font-size: 1.2rem;
    }
    .login-box input {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      font-size: 1rem;
    }
    .login-box button {
      width: 100%;
      padding: 10px;
      font-size: 1rem;
      background-color: #2e86de;
      color: white;
      border: none;
      border-radius: 5px;
    }
    .tree ul {
      padding-top: 20px;
      position: relative;
      display: flex;
      justify-content: center;
    }
    .tree li {
      list-style-type: none;
      margin: 0 10px;
      text-align: center;
      position: relative;
    }
    .tree li::before, .tree li::after {
      content: '';
      position: absolute;
      top: 0;
      border-top: 2px solid #ccc;
      width: 50%;
      height: 20px;
    }
    .tree li::before {
      left: -50%;
    }
    .tree li::after {
      right: -50%;
    }    .tree li:only-child::before, .tree li:only-child::after {
      display: none;
    }
    .tree li .profile-card {
      background: white;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
      cursor: pointer;
      width: 130px;
    }
    .tree li .profile-card:hover {
      background: #f0f8ff;
    }
    .tree li img {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 5px;
    }
    .tree li h3 {
      font-size: 1rem;
    }
    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.7);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 999;
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 400px;
      width: 90%;
      position: relative;
    }
    .modal-content .close {
      position: absolute;
      top: 10px; right: 10px;
      cursor: pointer;
      font-size: 1.2rem;
    }    .modal-content .profile-details img {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 10px;
    }
    .modal-content .profile-details h2 {
      margin: 10px 0 5px;
    }
    .modal-content .profile-details p {
      margin: 2px 0;
      font-size: 0.95rem;
    }
  </style>
</head>
<body>
  <header>
    <img src="https://i.ibb.co/G4QSW2Rv/IMG-0549.jpg" alt="Logo" />
    <h1>Staff Hierarchy</h1>
  </header>
  <div class="login-container">
    <div class="login-box" id="loginBox">
      <h2>Admin Login</h2>
      <input type="text" id="username" placeholder="Username">
      <input type="password" id="password" placeholder="Password">
      <button onclick="login()">Login</button>
    </div>
  </div>
  <div class="hierarchy-container" id="hierarchy" style="display:none;">
<div style="text-align:right; margin-bottom: 10px;">
  <button onclick="toggleForm()" style="padding:8px 16px;background:#2ecc71;color:white;border:none;border-radius:5px;">+ Add Staff</button>
</div>
<div id="addStaffForm" style="display:none;background:#fff;padding:15px;border-radius:8px;box-shadow:0 0 5px rgba(0,0,0,0.2);margin-bottom:20px;">
  <h3>Add New Staff</h3>
  <input type="text" id="newName" placeholder="Name" /><br/><br/>
  <input type="text" id="newID" placeholder="ID" /><br/><br/>
  <input type="text" id="newPosition" placeholder="Position" /><br/><br/>
  <input type="text" id="newBranch" placeholder="Branch" /><br/><br/>
  <input type="text" id="newContact" placeholder="Contact" /><br/><br/>
  <input type="date" id="newJoinDate" /><br/><br/>
  <input type="text" id="newPhoto" placeholder="Photo URL" /><br/><br/>
  <textarea id="newDuty" placeholder="Duties" rows="3" style="width:100%;"></textarea><br/><br/>
  <select id="newParent">
    <option value="">-- Select Supervisor --</option>
  </select><br/><br/>
  <button onclick="createStaff()" style="padding:8px 16px;background:#3498db;color:white;border:none;border-radius:5px;">Create</button>
</div>
    <div class="tree" id="staffTree"></div>
  </div>
  <div class="modal" id="profileModal" onclick="closeModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <span class="close" onclick="closeModal()">Ã—</span>
      <div class="profile-details" id="profileDetails"></div>
    </div>
  </div>
  <script>
  const staffData = [
    {
      id: "001",
      name: "Thae Theint War",
      position: "CEO",
      branch: "Head Office",
      contact: "+9595410717",
      joinDate: null,
      photo: "https://i.ibb.co/G4QSW2Rv/IMG-0549.jpg",
      parentId: null,
      duty: "Oversees all company operations."
    },
    {
      id: "002",
      name: "Naing Nanda",
      position: "Opreation Manager",
      branch: "Yangon Branch",
      contact: "+959881130141",
      joinDate: "2025-07-01",
      photo: "https://i.ibb.co/G4QSW2Rv/IMG-0549.jpg",
      parentId: "001",
      duty: "Manages operations and staff."
    },
    {
      id: "003",
      name: "Tin Lin Aung",
      position: "IT HOD",
      branch: "Head Office",
      contact: "+959786335921",
      joinDate: "2022-06-10",
      photo: "https://i.ibb.co/G4QSW2Rv/IMG-0549.jpg",
      parentId: "002",
      duty: "Maintains IT infrastructure."
    }
  ];

  function login() {
    const u = document.getElementById("username").value;
    const p = document.getElementById("password").value;
    if (u === "admin" && p === "1234") {
      document.getElementById("loginBox").style.display = "none";
      document.getElementById("hierarchy").style.display = "block";
      renderTree();
    } else {
      alert("Invalid credentials");
    }
  }

  function renderTree() {
    const container = document.getElementById("staffTree");
    const build = (parentId) => {
      const members = staffData.filter(p => p.parentId === parentId);
      if (!members.length) return '';
      let html = '<ul>';
      for (const member of members) {
        html += `<li>
          <div class="profile-card" onclick="showProfile('${member.id}')">
            <img src="${member.photo}" alt="${member.name}">
            <h3>${member.name}</h3>
            <p>${member.position}</p>
          </div>
          ${build(member.id)}
        </li>`;
      }
      html += '</ul>';
      return html;
    };
    container.innerHTML = build(null);
  }  function showProfile(id) {
    const member = staffData.find(p => p.id === id);
    const modal = document.getElementById("profileModal");
    const details = document.getElementById("profileDetails");
    details.innerHTML = `
      <img src="${member.photo}" alt="${member.name}">
      <h2>${member.name}</h2>
      <p><strong>Position:</strong> ${member.position}</p>
      <p><strong>ID:</strong> ${member.id}</p>
      <p><strong>Branch:</strong> ${member.branch}</p>
      <p><strong>Contact:</strong> ${member.contact}</p>
      <p><strong>Join Date:</strong> ${member.joinDate}</p>
      <p><strong>Duties:</strong> ${member.duty}</p>
      <button onclick="closeModal()" style="margin-top:10px;padding:8px 16px;border:none;background:#e74c3c;color:white;border-radius:5px;">Close</button>
    `;
    modal.style.display = "flex";
  }

  function closeModal() {
    document.getElementById("profileModal").style.display = "none";
  }
    <script>
  function toggleForm() {function toggleForm() {
  const form = document.getElementById("addStaffForm");
  if (form.style.display === "none") {
    populateSupervisorDropdown();
    form.style.display = "block";
  } else {
    form.style.display = "none";
  }
  } }
  function createStaff() {
    const name = document.getElementById("newName").value;
    const id = document.getElementById("newID").value;
    const position = document.getElementById("newPosition").value;
    const branch = document.getElementById("newBranch").value;
    const contact = document.getElementById("newContact").value;
    const joinDate = document.getElementById("newJoinDate").value;
    const photo = document.getElementById("newPhoto").value || "https://via.placeholder.com/100";
    const duty = document.getElementById("newDuty").value;
    const parentID = document.getElementById("newParent").value;
    if (!name || !id) {
      alert("Name and ID are required.");
      return;
    }
    const newMember = {
      name, id, position, branch, contact, joinDate, photo, duty,
      children: []
    };
    if (parentID) {
      const parent = staffData.find(p => p.id === parentID);
      if (parent) {
        parent.children = parent.children || [];
        parent.children.push(newMember);
      } else {
        staffData.push(newMember);
      }
    } else {
      staffData.push(newMember);
    }
    renderTree();
    toggleForm();
    clearForm();
  }
  function clearForm() {
    document.getElementById("newName").value = "";
    document.getElementById("newID").value = "";
    document.getElementById("newPosition").value = "";
    document.getElementById("newBranch").value = "";
    document.getElementById("newContact").value = "";
    document.getElementById("newJoinDate").value = "";
    document.getElementById("newPhoto").value = "";
    document.getElementById("newDuty").value = "";
    document.getElementById("newParent").value = "";
  }
    function populateSupervisorDropdown() {
  const parentSelect = document.getElementById("newParent");
  parentSelect.innerHTML = '<option value="">-- Select Supervisor --</option>';
  staffData.forEach(member => {
    const option = document.createElement("option");
    option.value = member.id;
    option.textContent = `${member.name} (${member.position})`;
    parentSelect.appendChild(option);
  });
}
</script>
</script>
</body>
</html>
